<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>InkaNiskaPortfolio</title>
	<link rel="icon" type="image/png" href="assets/favicon.png" />
	<style>
		body {
			margin: 0;
			padding: 0;
			background: #f4f4f4;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			image-rendering: pixelated;
		}

		.page {
			width: 450px;
			height: 675px;
			background-size: cover;
			background-repeat: no-repeat;
			border: 5px solid black;
			box-shadow: 6px 6px 0 #000;
			position: relative;
			overflow: hidden;
			display: none;
		}

		.page.active {
			display: block;
		}

		.page.double {
			width: 900px;
		}

		.character {
			position: absolute;
			left: 50px;
			top: 120px;
			width: 150px;
			height: 150px;
			image-rendering: pixelated;
			cursor: pointer;
			transition: top 0.6s linear;
			pointer-events: auto;
			z-index: 10;
		}

		.page.double .page-bg {
			width: 50%;
			height: 100%;
			background-image: url('assets/testisivu.png');
			background-size: cover;
			background-repeat: no-repeat;
			position: absolute;
			top: 0;
			z-index: 0;
		}

		.page-bg.left { left: 0; }
		.page-bg.right { left: 50%; }

		#textbox {
			position: absolute;
			top: 30px;
			left: 30px;
			width: 380px;
			height: 110px;
			font-family: monospace;
			font-size: 16px;
			color: black;
			background: lightpink;
			border: 3px solid blueviolet;
			padding: 12px;
			white-space: pre-wrap;
			overflow: hidden;
			box-sizing: border-box;
		}

		.code-box {
			position: absolute;
			top: 180px;
			left: 30px;
			width: 170px;
			height: 350px;
			background: #ccffcc;
			border: 3px solid green;
			display: flex;
			align-items: center;
			justify-content: center;
			box-sizing: border-box;
		}

		.explain-box {
			position: absolute;
			top: 180px;
			right: 30px;
			width: 170px;
			height: 160px;
			background: #cce5ff;
			border: 3px solid blue;
			padding: 10px;
			font-size: 14px;
			box-sizing: border-box;
		}

		.page-title {
			font-family: monospace;
			font-size: 18px;
			position: absolute;
			top: 20px;
			width: 100%;
			text-align: center;
			color: black;
		}

		.video-box {
			position: absolute;
			width: 300px;
			height: 170px;
			border: 3px solid black;
			background: #ff5555;
			box-sizing: border-box;
		}

		.video-box iframe {
			width: 100%;
			height: 100%;
		}

		.explain-box.blue {
			width: 80px;
			font-size: 11px;
			line-height: 1.2;
			padding: 6px;
			background: #6666cc;
			border-color: #3333aa;
			color: white;
		}

	</style>
</head>
<body>

	<!-- COVER PAGE -->
	<div id="page1" class="page active" style="background-image: url('assets/kansi.png');">
		<img id="character" src="assets/inkaHello.gif" class="character" onclick="jumpOut()" />
	</div>

	<!-- MOVING CHARACTER -->
<!---	<img id="characterNavi" src="assets/inkaHello.gif" class="character" style="display: none; top: 430px; left: 35px; z-index: 10;" /> -->
	<div id="pageContainer" style="position: relative; display: flex; justify-content: center;">
		<img id="characterNavi" src="assets/inkaHello.gif" class="character" style="display: none; top: 380px; left: 35px; z-index: 10;" />
	
	
	<!-- BANANA PAGE -->
		<div id="page2" class="page double">
			<div class="page-bg left"></div>
			<div class="page-bg right"></div>

			<div id="textbox"></div>

			<div class="code-box">
				<img src="assets/bana_pic.png" alt="Code snippet" style="max-width: 100%; max-height: 100%;" />
			</div>

			<div class="explain-box">
				This is working shell called bananapeel. It can be used as bash. It was written in c as a pair project.
			</div>
	</div>

	<!-- GAME1 PAGE -->
	<div id="game1_page" class="page double">
		<div class="page-bg left"></div>
		<div class="page-bg right"></div>

		<h1 class="page-title left-title">My First games</h1>

		<!-- YouTube embeds, FIRST GAMES -->
		<div class="video-box" style="top: 50px; left: 20px;">
			<iframe src="https://www.youtube.com/embed/V4_4JGQmx4I" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 260px; left: 100px;">
			<iframe src="https://www.youtube.com/embed/3HzTUGBscuc" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 20px; left: 310px;">
			<iframe src="https://www.youtube.com/embed/7KD0ExyEMZU" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 200px; left: 330px;">
			<iframe src="https://www.youtube.com/embed/0x0W6AY7gCU" frameborder="0" allowfullscreen></iframe>
		</div>

		<!-- Blue explanation boxes FIRST GAME PAGE -->
		<div class="explain-box blue" style="top: 50px; left: 225px;">My first game, made with C. It’s a classic Matopeli (Snake), played in the terminal.</div>
		<div class="explain-box blue" style="top: 220px; left: 10px;">This was my first C++ game — a simple point-and-click. </div>
		<div class="explain-box blue" style="top: 60px; left: 520px;">A more complex two-player game. Collect all the balls to save the kitty! Built with C++ and SFML.</div>
		<div class="explain-box blue" style="top: 310px; left: 500px;">A simple Pong game — built as physics practice. C++</div>
	</div>




	<script>
		let currentLeft = 35;
		let walkTimeout;
	
		const pages = ['page1', 'page2', 'game1_page', 'game2_page', 'game3_page', 'game4_page', 'backCover'];
		let pageIndex = 0;
	
		const character = document.getElementById('character');
		const charNavi = document.getElementById('characterNavi');
	
		function jumpOut() {
			character.src = 'assets/fall.gif';
			character.classList.add('falling');
	
			setTimeout(() => {
				character.style.top = '370px';
			}, 10);
	
			setTimeout(() => {
				character.src = 'assets/inkaHello.gif';
				character.onclick = null;
			}, 1050);
		}
	
		document.addEventListener('keydown', (event) => {
			// JUMP (spacebar)
			if (event.key === ' ') {
				const activeChar = (character.style.top === '370px') ? character : charNavi;
				activeChar.src = 'assets/fall.gif';
				setTimeout(() => {
					activeChar.src = 'assets/inkaHello.gif';
				}, 500);
			}
	
			// --- Character 1: Cover ---
			if (character && character.style.top === '370px' && character.offsetParent !== null) {
				if (event.key === 'ArrowLeft') {
					if (currentLeft > 0) {
						character.src = 'assets/walkL.gif';
						currentLeft -= 10;
						character.style.left = currentLeft + 'px';
					}
				} else if (event.key === 'ArrowRight') {
					if (currentLeft < 250) {
						character.src = 'assets/walkR.gif';
						currentLeft += 10;
						character.style.left = currentLeft + 'px';
	
						if (currentLeft > 230) {
							pageIndex = 1;
							NextPage();
						}
					}
				}
				clearTimeout(walkTimeout);
				walkTimeout = setTimeout(() => {
					character.src = 'assets/inkaHello.gif';
				}, 100);
			}
	
			// --- Character 2: Navi ---
			if (charNavi && charNavi.style.display === 'block') {
				const maxRight = getActivepageWidth() - 100;
	
				if (event.key === 'ArrowLeft') {
					if (currentLeft > 0) {
						charNavi.src = 'assets/walkL.gif';
						currentLeft -= 10;
						charNavi.style.left = currentLeft + 'px';
					}
					if (currentLeft < 20 && pageIndex > 1) {
						pageIndex--;
						PrevPage();
					}
				} else if (event.key === 'ArrowRight') {
					if (currentLeft < maxRight) {
						charNavi.src = 'assets/walkR.gif';
						currentLeft += 10;
						charNavi.style.left = currentLeft + 'px';
	
						if (currentLeft >= maxRight - 10 && pageIndex < pages.length - 1) {
							pageIndex++;
							NextPage();
						}
					}
				}
				clearTimeout(walkTimeout);
				walkTimeout = setTimeout(() => {
					charNavi.src = 'assets/inkaHello.gif';
				}, 100);
			}
		});
	
		function getActivepageWidth() {
			const activePage = document.querySelector('.page.active');
			return activePage ? activePage.offsetWidth : 300;
		}
	
		function showPage(index) 
		{
			document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
			const next = document.getElementById(pages[index]);
			next.classList.add('active');
		}
	
		function NextPage() 
		{
			showPage(pageIndex);
			charNavi.style.display = 'block';
			charNavi.style.left = '35px';
			currentLeft = 35;
			if (pages[pageIndex] === 'page2') startTypingLoop();
		}
	
		function PrevPage() 
		{
			showPage(pageIndex);
			charNavi.style.left = '35px';
			currentLeft = 35;
			if (pages[pageIndex] === 'page2') startTypingLoop();
		}
	
		function typeText(text, elementId, speed = 50, callback = null) {
			let i = 0;
			const el = document.getElementById(elementId);
			el.innerHTML = '';
			const interval = setInterval(() => {
				if (i < text.length) {
					el.innerHTML += text.charAt(i);
					i++;
				} else {
					clearInterval(interval);
					if (callback) callback();
				}
			}, speed);
		}
	
		function startTypingLoop() {
			const messages = [
				"🍌 banana_peel: ls -la | grep .c | sort",
				"🍌 banana_peel: ./banana < input.txt > out.txt",
				"🍌 banana_peel: echo \"banana magic\" | sed 's/a/@/g'"
			];
			let index = 0;
	
			function loop() {
				typeText(messages[index], "textbox", 40, () => {
					index = (index + 1) % messages.length;
					setTimeout(loop, 4000);
				});
			}
			loop();
		}
	</script>

</body>
</html>
