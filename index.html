<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>InkaNiskaPortfolio</title>
	<link rel="icon" type="image/png" href="assets/favicon.png" />
	<style>
		body {
			margin: 0;
			padding: 0;
			background: #f4f4f4;
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
			image-rendering: pixelated;
		}

		.page {
			width: 300px;
			height: 450px;
			background-size: cover;
			background-repeat: no-repeat;
			border: 4px solid black;
			box-shadow: 4px 4px 0 #000;
			position: relative;
			overflow: hidden;
			display: none;
		}

		.page.active {
			display: block;
		}

		.character {
			position: absolute;
			left: 35px;
			top: 80px;
			width: 100px;
			height: 100px;
			image-rendering: pixelated;
			cursor: pointer;
			transition: top 1s linear;
			pointer-events: auto;
		}

		.page.double {
			width: 600px;
		}

		.page.double .page-bg {
			width: 50%;
			height: 100%;
			background-image: url('assets/testisivu.png');
			background-size: cover;
			background-repeat: no-repeat;
			position: absolute;
			top: 0;
			z-index: 0;
		}

		.page-bg.left {
			left: 0;
		}	

		.page-bg.right {
			left: 50%;
		}
		/* Terminal-style textbox  FOR BANANA*/
		#textbox {
			position: absolute;
			top: 20px;
			left: 20px;
			width: 260px;
			height: 80px;
			font-family: monospace;
			font-size: 14px;
			color: black;
			background: lightpink;
			border: 2px solid blueviolet;
			padding: 10px;
			white-space: pre-wrap;
			overflow: hidden;
		}

		/* Green code box for BANANA */
		.code-box {
			position: absolute;
			top: 130px;
			left: 20px;
			width: 120px;
			height: 250px;
			background: #ccffcc;
			border: 2px solid green;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		/* Blue explanation box for BANANA*/
		.explain-box {
			position: absolute;
			top: 130px;
			right: 20px;
			width: 120px;
			height: 130px;
			background: #cce5ff;
			border: 2px solid blue;
			padding: 8px;
			font-size: 12px;
			box-sizing: border-box;
		}

		.page-title {
		font-family: 'Press Start 2P', cursive;
		font-size: 16px;
		position: absolute;
		top: 10px;
		width: 100%;
		font-family: monospace;
		color: black;
		}

	.left-title {
		left: 100px;
	}


	.video-box {
		position: absolute;
		width: 200px;
		height: 115px;
		border: 2px solid black;
		background: #ff5555;
		box-sizing: border-box;
	}

	.video-box iframe {
		width: 100%;
		height: 100%;
	}

	.explain-box.blue {
		width: 80px;
		font-size: 11px;
		line-height: 1.2;
		padding: 6px;
		background: #6666cc;
		border-color: #3333aa;
		color: white;
	}

	</style>
</head>
<body>

	<!-- COVER PAGE -->
	<div id="page1" class="page active" style="background-image: url('assets/kansi.png');">
		<img id="character" src="assets/inkaHello.gif" class="character" onclick="jumpOut()" />
	</div>

	<!-- MOVING CHARACTER -->
<!---	<img id="characterNavi" src="assets/inkaHello.gif" class="character" style="display: none; top: 430px; left: 35px; z-index: 10;" /> -->
	<div id="pageContainer" style="position: relative; display: flex; justify-content: center;">
		<img id="characterNavi" src="assets/inkaHello.gif" class="character" style="display: none; top: 380px; left: 35px; z-index: 10;" />
	
	
	<!-- BANANA PAGE -->
		<div id="page2" class="page double">
			<div class="page-bg left"></div>
			<div class="page-bg right"></div>

			<div id="textbox"></div>

			<div class="code-box">
				<img src="assets/bana_pic.png" alt="Code snippet" style="max-width: 100%; max-height: 100%;" />
			</div>

			<div class="explain-box">
				This is working shell called bananapeel. It can be used as bash. It was written in c as a pair project.
			</div>
	</div>

	<!-- GAME1 PAGE -->
	<div id="game1_page" class="page double">
		<div class="page-bg left"></div>
		<div class="page-bg right"></div>

		<h1 class="page-title left-title">My First games</h1>

		<!-- YouTube embeds, FIRST GAMES -->
		<div class="video-box" style="top: 50px; left: 20px;">
			<iframe src="https://www.youtube.com/embed/V4_4JGQmx4I" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 260px; left: 100px;">
			<iframe src="https://www.youtube.com/embed/3HzTUGBscuc" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 20px; left: 310px;">
			<iframe src="https://www.youtube.com/embed/7KD0ExyEMZU" frameborder="0" allowfullscreen></iframe>
		</div>
		<div class="video-box" style="top: 200px; left: 330px;">
			<iframe src="https://www.youtube.com/embed/0x0W6AY7gCU" frameborder="0" allowfullscreen></iframe>
		</div>

		<!-- Blue explanation boxes FIRST GAME PAGE -->
		<div class="explain-box blue" style="top: 50px; left: 225px;">My first game, made with C. It’s a classic Matopeli (Snake), played in the terminal.</div>
		<div class="explain-box blue" style="top: 220px; left: 10px;">This was my first C++ game — a simple point-and-click. </div>
		<div class="explain-box blue" style="top: 60px; left: 520px;">A more complex two-player game. Collect all the balls to save the kitty! Built with C++ and SFML.</div>
		<div class="explain-box blue" style="top: 310px; left: 500px;">A simple Pong game — built as physics practice. C++</div>
	</div>



	<script>
		let currentLeft = 35;
		let walkTimeout;

		const character = document.getElementById('character');
		const charNavi = document.getElementById('characterNavi');

		function jumpOut() 
		{
			const char = document.getElementById('character');
			char.src = 'assets/fall.gif';
			char.classList.add('falling');

			setTimeout(() => {
				char.style.top = '370px';
			}, 10);

			setTimeout(() => {
				char.src = 'assets/inkaHello.gif';
				char.onclick = null;
			}, 1050);
		}

		document.addEventListener('keydown', (event) => {
		// --- Character 1: Cover ---
		if (character && character.style.top === '370px' && character.offsetParent !== null) {
			if (event.key === 'ArrowLeft') {
				if (currentLeft > 0) {
					character.src = 'assets/walkL.gif';
					currentLeft -= 10;
					character.style.left = currentLeft + 'px';
				}
			} else if (event.key === 'ArrowRight') {
				if (currentLeft < 250) {
					character.src = 'assets/walkR.gif';
					currentLeft += 10;
					character.style.left = currentLeft + 'px';

					if (currentLeft > 230) {
						NextPage();
					}
				}
			}

			clearTimeout(walkTimeout);
			walkTimeout = setTimeout(() => {
				character.src = 'assets/inkaHello.gif';
			}, 100);
		}

		// --- Character 2: Navi ---
		if (charNavi && charNavi.style.display === 'block') {
			const maxRight = 600 - 100; // page width minus character width

			if (event.key === 'ArrowLeft') {
				if (currentLeft > 0) {
					charNavi.src = 'assets/walkL.gif';
					currentLeft -= 10;
					charNavi.style.left = currentLeft + 'px';
				}
			} else if (event.key === 'ArrowRight') {
				if (currentLeft < maxRight) {
					charNavi.src = 'assets/walkR.gif';
					currentLeft += 10;
					charNavi.style.left = currentLeft + 'px';
				}
				if (currentLeft >= maxRight - 10 && document.getElementById('page2').classList.contains('active')) {
					NextPage();
				}
			}

			clearTimeout(walkTimeout);
			walkTimeout = setTimeout(() => {
				charNavi.src = 'assets/inkaHello.gif';
			}, 100);
		}
	});

		function getActivepageWidth() {
			const activePage = document.querySelector('.page.active');
			return activePage ? activePage.offsetWidth : 300;
		}

		//function NextPage() {
		//	document.getElementById('page1').classList.remove('active');
		//	document.getElementById('page2').classList.add('active');

		//	charNavi.style.display = 'block';
		//	charNavi.style.left = '35px';
		//	currentLeft = 35;

		//	startTypingLoop();
		//}


		function NextPage() {
			if (document.getElementById('page1').classList.contains('active')) {
				document.getElementById('page1').classList.remove('active');
				document.getElementById('page2').classList.add('active');
				charNavi.style.display = 'block';
				charNavi.style.left = '35px';
				currentLeft = 35;
				startTypingLoop();
			} else if (document.getElementById('page2').classList.contains('active')) {
				document.getElementById('page2').classList.remove('active');
				document.getElementById('game1_page').classList.add('active');
				charNavi.style.left = '35px';
				currentLeft = 35;
			}
		}
		function typeText(text, elementId, speed = 50, callback = null) {
			let i = 0;
			const el = document.getElementById(elementId);
			el.innerHTML = '';
			const interval = setInterval(() => {
				if (i < text.length) {
					el.innerHTML += text.charAt(i);
					i++;
				} else {
					clearInterval(interval);
					if (callback) callback();
				}
			}, speed);
		}

		function startTypingLoop() {
			const message = "🍌 banana_peel: echo hello \n hello";
			function loop() {
				typeText(message, "textbox", 40, () => {
					setTimeout(loop, 20000);
				});
			}
			loop();
		}
	</script>

</body>
</html>
